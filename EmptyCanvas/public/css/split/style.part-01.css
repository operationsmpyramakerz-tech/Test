/* =================================
   Global Styles & Variables
   ================================= */
:root {
  --primary-color: #EA580C; /* Orange */
  --primary-color-dark: #C2410C;
  --text-primary: #000000;
  --text-secondary: #6B7280;
  --bg-main: #FFFFFF;
  --bg-card: #FFFFFF;
  --border-color: #E5E7EB;

  --aside-w: 270px;
  --aside-w-collapsed: 88px;
}

*{ box-sizing:border-box; margin:0; padding:0; }

body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  color:var(--text-primary);
  line-height:1.6;
  transition:padding-left .3s ease;
  /* NEW: app background */
  background: var(--bg-main) url('/images/App-background.png') center top / cover no-repeat fixed;
}
@media (max-width:768px){
  body{ background-attachment: scroll; background-size: cover; }
}

body.sidebar-collapsed{ padding-left:0; }

/* =================================
   Login
   ================================= */
.login-container{
  display:flex; justify-content:center; align-items:center; height:100vh;
  background-image:url('/images/login-background.jpg');
  background-size:cover; background-position:center;
}
.login-card{
  background:rgba(255,255,255,.95); backdrop-filter:blur(8px);
  padding:2.5rem; border-radius:16px; box-shadow:0 10px 35px rgba(0,0,0,.1);
  width:420px; max-width:90%; text-align:center; border:1px solid rgba(255,255,255,.2);
}
.login-card .logo{ height:50px; margin-bottom:1rem; }
.login-card h2{ font-size:1.8rem; color:#000000; margin-bottom:.5rem; }
.login-card p{ color:#6B7280; margin-bottom:2rem; }
.login-card .form-group{ text-align:left; margin-bottom:1.25rem; }
.login-card .form-group label{ font-size:.9rem; }
.login-card input[type="text"], .login-card input[type="password"]{
  background:#F9FAFB; border:1px solid #E5E7EB; padding:.9rem; font-size:1rem; border-radius:8px;
}
.login-card input[type="text"]:focus, .login-card input[type="password"]:focus{
  border-color:var(--primary-color); box-shadow:0 0 0 2px rgba(234,88,12,.2); outline:none;
}
.login-card .submit-btn{ width:100%; padding:.85rem; font-size:1rem; }
.error-message{
  color:#DC2626; background:#FEE2E2; border:1px solid #FCA5A5; border-radius:4px;
  padding:.75rem; margin-top:1rem; text-align:center; font-size:.9rem;
}

/* =================================
   Layout
   ================================= */
.app-container{ display:flex; min-height:100vh; }

/* Sidebar (rounded frame) */
.sidebar{
  width:var(--aside-w); background:#000000; display:flex; flex-direction:column; flex-shrink:0;
  position:fixed; top:14px; left:14px; bottom:14px;
  border-radius:28px; border:1px solid #e5e7eb; box-shadow:0 18px 36px rgba(0,0,0,.18);
  transition:transform .3s ease, width .25s ease; z-index:100;
}
body.sidebar-collapsed .sidebar{ transform:translateX(calc(-100% - 14px)); }

.sidebar-header{
  padding:1.5rem;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  border-bottom:1px solid #000000;
}
.sidebar-header .logo{ height:32px; margin-right:.75rem; }
.sidebar-header h2{ margin:0; font-size:1.25rem; color:#F9FAFB; }

/* =================================
   Sidebar: Brand logo instead of "Dashboard"
   ================================= */
/*
  Brand toggle (logo) in the sidebar header
  - When sidebar is OPEN  -> show horizontal logo
  - When sidebar is MINI  -> show icon only
  With a smooth animation between both states.
*/
.sidebar-brand-toggle{
  display:flex;
  align-items:center;
  justify-content:center;
  width:100%;
  height:32px;
  cursor:pointer;
  user-select:none;
  overflow:hidden;
}

.sidebar-brand-toggle img{
  height:32px;
  width:auto;
  display:block;
  transition: opacity .25s ease, transform .25s ease, max-width .25s ease;
  will-change: opacity, transform, max-width;
}

.sidebar-brand-toggle .brand-logo-full{
  max-width: 190px;
  opacity: 1;
  transform: translateX(0);
}

.sidebar-brand-toggle .brand-logo-icon{
  max-width: 0;
  opacity: 0;
  transform: scale(.92);
}

/* MINI sidebar state (desktop) → icon only */
body.sidebar-mini .sidebar-brand-toggle{
  justify-content:center;
}

body.sidebar-mini .sidebar-brand-toggle .brand-logo-full{
  max-width: 0;
  opacity: 0;
  transform: translateX(-10px);
}

body.sidebar-mini .sidebar-brand-toggle .brand-logo-icon{
  max-width: 34px;
  opacity: 1;
  transform: scale(1);
}

@media (prefers-reduced-motion: reduce){
  .sidebar-brand-toggle img{ transition: none !important; }
}


/* =================================
   Sidebar: Profile header (avatar + name + position)
   ================================= */
.sidebar-profile{
  display:flex;
  align-items:center;
  gap:12px;
  padding:1rem 1.5rem;
  border-bottom:1px solid #000000;
}
.sidebar-profile__avatar{
  width:44px;
  height:44px;
  border-radius:50%;
  overflow:hidden;
  background:#000000;
  border:1px solid #374151;
  display:grid;
  place-items:center;
  flex-shrink:0;
}
.sidebar-profile__img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:none;
}
.sidebar-profile__fallback{
  width:100%;
  height:100%;
  display:grid;
  place-items:center;
  color:#F9FAFB;
  font-weight:800;
  font-size:14px;
}
.sidebar-profile__meta{
  display:flex;
  flex-direction:column;
  min-width:0;
}
.sidebar-profile__name{
  color:#F9FAFB;
  font-weight:800;
  font-size:14px;
  line-height:1.2;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.sidebar-profile__role{
  color:#9CA3AF;
  font-size:12px;
  margin-top:2px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.nav-label{ white-space:nowrap; }
.sidebar-nav{ padding:1rem; flex-grow:1; }
.nav-link{
  display:flex; align-items:center; gap:.75rem; padding:.75rem 1rem; border-radius:6px; text-decoration:none;
  color:#9CA3AF; font-weight:500; margin-bottom:.5rem; transition:background-color .2s, color .2s;
}
.nav-link:hover{ background:#000000; color:#fff; }
.nav-link.active{ 
  background:var(--primary-color); 
  color:#fff; 
  font-weight:600;
  box-shadow: 0 8px 16px rgba(234, 88, 12, 0.25);
}
.sidebar-footer{
  padding:1.5rem;
  border-top:1px solid #000000;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
}

.main-content{ flex-grow:1; padding-left:var(--aside-w); transition:padding-left .3s ease; }
body.sidebar-collapsed .main-content{ padding-left:0; }

/* =================================
   Header (two rows) + page title label
   ================================= */
.main-header{
  display:grid; grid-template-rows:auto auto; gap:10px; align-items:center;
  padding:1rem 2rem; background:transparent;
  border-bottom:1px solid var(--border-color);
}
.header-row1{ display:flex; align-items:center; gap:12px; }
.header-row1 .left{ display:flex; align-items:center; gap:12px; flex:1; min-width:0; }
.header-row1 .right{ margin-left:auto; display:flex; align-items:center; gap:12px; }
.header-row2{ display:flex; align-items:center; gap:10px; }

.page-title{
  display:inline-flex; align-items:center; background:#000000; color:#fff;
  border-radius:12px; padding:8px 14px; font-size:1.1rem; font-weight:800;
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}

.menu-toggle{ background:none; border:none; cursor:pointer; padding:.5rem; color:var(--text-secondary); }
.menu-toggle:hover{ color:var(--text-primary); }

/* Mobile "Dashboard" open button (injected by common-ui.js) */
#menu-toggle.menu-toggle{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  border-radius: 14px;
  background: #fff;
  border: 1px solid #E9EDF3;
  box-shadow: 0 10px 24px rgba(0,0,0,.06);
  color: #000000;
  -webkit-tap-highlight-color: transparent;
}
#menu-toggle.menu-toggle svg{
  width: 22px;
  height: 22px;
}
#menu-toggle.menu-toggle img.menu-toggle-logo{
  width: 22px;
  height: 22px;
  object-fit: contain;
  display: block;
}

/* On desktop the sidebar is already visible → hide the mobile toggle button */
@media (min-width: 769px){
  #menu-toggle{ display: none !important; }
}


.greeting-pill{
  position:relative; display:inline-flex; align-items:center; gap:10px;
  background:#fff; border:1px solid #E9EDF3; border-radius:14px;
  padding:8px 12px; box-shadow:0 10px 24px rgba(0,0,0,.06); max-width:100%;
}
.greeting-emoji{ width:28px; height:28px; border-radius:50%; background:#FFE6D5; display:grid; place-items:center; font-size:16px; }
.greeting-avatar{ width:34px; height:34px; border-radius:50%; background:#fff; border:1px solid #E9EDF3; display:grid; place-items:center; overflow:hidden; box-shadow:0 6px 16px rgba(0,0,0,.06); }
.greeting-avatar img{ width:100%; height:100%; object-fit:cover; display:block; }
.greet-text{ display:flex; flex-direction:column; line-height:1.2; }
.greet-title{ font-weight:800; color:#111; font-size:14px; }
.greet-sub{ font-size:12px; color:var(--text-secondary); }

.searchbar{
  display:flex; align-items:center; gap:10px; background:#fff; border:1px solid var(--border-color);
  height:44px; border-radius:22px; padding:0 12px 0 10px; box-shadow:0 10px 24px rgba(0,0,0,.06);
  width:520px; max-width:40vw;
}
.searchbar i{ color:#9AA1AC; }
.searchbar input{ border:none; outline:none; width:100%; font-size:14px; color:var(--text-primary); background:transparent; }

.topbar-right{ display:flex; align-items:center; gap:12px; }

.account-mini{
  display:inline-flex; align-items:center; gap:8px; height:38px; padding:0 12px 0 6px;
  background:#2c2f36; color:#f1f5f9; border:1px solid #181a1f; border-radius:999px;
  text-decoration:none; font-weight:700; box-shadow:0 10px 20px rgba(0,0,0,.18);
}
.account-mini:hover{ background:#1f232a; }
.account-mini .ico-circle{ width:26px; height:26px; border-radius:50%; background:#fff; display:grid; place-items:center; }
.account-mini .ico-circle img{ width:18px; height:18px; object-fit:contain; display:block; }
.account-mini .label{ font-size:14px; }

.container, .container-full-width{ padding:2rem; max-width:1400px; margin:0 auto; }
.container{ display:grid; grid-template-columns:1fr 1fr; gap:2rem; align-items:flex-start; }

.card{ background:var(--bg-card); border-radius:12px; padding:1.5rem; box-shadow:0 1px 3px rgba(0,0,0,.1), 0 1px 2px -1px rgba(0,0,0,.1); }
.card h2{ margin-bottom:1.5rem; color:var(--primary-color); font-size:1.25rem; }

.account-panel{ }
.account-grid{
  display:grid; gap:12px;
  grid-template-columns:1fr;
}
@media (min-width: 900px){
  .account-grid{ grid-template-columns:1fr 1fr; }
}
.acc-row{
  display:flex; align-items:center; justify-content:space-between;
  background:#ffffff;
  border:1px solid #E9EEF5;
  border-radius:14px;
  padding:.9rem 1rem;
  box-shadow:0 6px 18px rgba(0,0,0,.06);
}
.acc-left{ display:flex; align-items:center; gap:10px; }
.acc-ico{
  width:34px; height:34px; border-radius:50%;
  background:#F3F6FB; display:grid; place-items:center; color:#000000;
  border:1px solid #E5EAF2;
}
.acc-ico i{ width:18px; height:18px; }
.acc-label{ font-weight:700; color:#374151; }
.acc-value{ color:#000000; font-weight:600; }

.form-group label{ display:block; font-weight:500; margin-bottom:.5rem; font-size:.9rem; color:var(--text-primary); }
input[type="text"], input[type="password"], input[type="number"]{
  width:100%; padding:.75rem; border:1px solid #D1D5DB; border-radius:6px; font-size:1rem;
}
input:focus{ border-color:var(--primary-color); box-shadow:0 0 0 2px rgba(234,88,12,.2); outline:none; }

.form-actions{ display:flex; justify-content:space-between; align-items:center; margin-top:1.5rem; }
button{ padding:.75rem 1.5rem; border-radius:6px; border:none; cursor:pointer; font-size:.9rem; font-weight:600; transition:background-color .2s; }
#addProductBtn{ background:none; border:1px solid var(--primary-color); color:var(--primary-color); }
#addProductBtn:hover{ background:#FFF7ED; }
.submit-btn{ background:var(--primary-color); color:#fff; }
.submit-btn:hover{ background:var(--primary-color-dark); }
.remove-btn{ background:#EF4444; color:#fff; padding:.5rem .8rem; font-size:.8rem; align-self:center; }
.remove-btn:hover{ background:#DC2626; }

hr{ border:none; border-top:1px solid #eee; margin:1.5rem 0; }

.product-entry{ display:flex; gap:1rem; margin-bottom:1rem; align-items:flex-end; }
.product-select-group{ flex-grow:1; }
.product-input-wrapper{ display:flex; align-items:center; gap:.5rem; }
.product-input-wrapper .choices{ width:100%; }
.quantity-group{ flex-basis:100px; flex-shrink:0; }
.product-link{ color:#2563EB; align-self:center; margin-bottom:.5rem; transition:color .2s ease; flex-shrink:0; }
.product-link:hover{ color:#1D4ED8; }

.order-card{
  background:#F9FAFB; border:1px solid #E5E7EB; border-radius:6px;
  padding:1rem; margin-bottom:1rem; cursor:pointer;
}
.order-card h3{ font-size:1.1rem; color:#000000; margin-bottom:.25rem; }
.order-card .order-time{
  font-size:.75rem; color:#6B7280; margin-bottom:.75rem; border-bottom:1px solid #E5E7EB; padding-bottom:.5rem;
}
.order-card ul{ list-style:none; padding-left:0; }
.order-card li{
  background:#fff; padding:.5rem .75rem; border-radius:4px; margin-bottom:.5rem; font-size:.9rem; display:flex; justify-content:space-between;
}
.order-card li span{ font-weight:600; color:#4B5563; }

.modal{ display:none; position:fixed; inset:0; background:rgba(0,0,0,.55); justify-content:center; align-items:center; z-index:1000; }
.modal-content{ background:#fff; color:#000000; padding:1.25rem 1.25rem 1rem; border-radius:12px; width:560px; max-width:92%; box-shadow:0 10px 30px rgba(0,0,0,.2); position:relative; }
.close-btn{ position:absolute; top:8px; right:12px; background:transparent; border:none; font-size:24px; line-height:1; cursor:pointer; }
.modal h3{ color:#D97706; margin-bottom:.75rem; }
.modal ul{ list-style:none; padding-left:0; }
.modal li{ display:flex; align-items:center; gap:8px; justify-content:space-between; background:#F9FAFB; border:1px solid #E5E7EB; border-radius:6px; padding:.5rem .75rem; margin-bottom:.5rem; }

.receive-btn{ margin-left:10px; padding:6px 10px; font-size:12px; background:#2563EB; color:#fff; border:none; border-radius:6px; cursor:pointer; }
.receive-btn:hover{ background:#1D4ED8; }
.receive-btn.received{ background:#16A34A; cursor:default; }

.notification-modal{ position:fixed; bottom:20px; right:20px; z-index:2000; opacity:0; transition:opacity .3s ease-in-out; }
.notification-content{ display:flex; align-items:center; padding:1rem 1.5rem; border-radius:8px; box-shadow:0 10px 30px rgba(0,0,0,.2); }
.notification-modal.success .notification-content{ background:#16A34A; color:#fff; }
.notification-modal.error .notification-content{ background:#DC2626; color:#fff; }
.notification-icon{ margin-right:1rem; }
.notification-message{ font-weight:500; }
.notification-close{ background:none; border:none; color:inherit; opacity:.7; margin-left:1.5rem; cursor:pointer; }

@media (max-width:900px){ .container{ grid-template-columns:1fr; gap:1.5rem; } }
@media (max-width:768px){
  .sidebar{ transform:translateX(calc(-100% - 14px)); width:var(--aside-w); }
  .main-content{ padding-left:0; }
  .header-row1{ flex-wrap:wrap; gap:8px; }
  .searchbar{ max-width:none; width:100%; order:2; }
  .greeting-pill{ order:1; }
  .topbar-right{ order:3; margin-left:0; width:100%; justify-content:flex-end; }
  .account-mini .label{ display:none; }
}

@media (min-width:769px){
  .sidebar{ transform:none !important; width:var(--aside-w); }
  body.sidebar-collapsed .sidebar{ transform:none !important; width:var(--aside-w); }
  /* Desktop: content shouldn't reserve the FULL sidebar width */
  .main-content{ padding-left:0 !important; }
  body.sidebar-collapsed .main-content{ padding-left:0 !important; }
}

.sidebar-nav .nav-group-title{
  cursor:pointer; display:flex; justify-content:space-between; align-items:center;
  padding:.75rem 1rem; font-weight:500; color:#D1D5DB;
}
.sidebar-nav .nav-group-title::after{ content:'▶'; font-size:.6em; transition:transform .3s ease; transform:rotate(90deg); }
.sidebar-nav .nav-group:not(.is-active) .nav-group-title::after{ transform:rotate(0deg); }
.sidebar-nav .nav-group .nav-group-list{
  list-style:none; padding:0; margin:0; overflow:hidden; max-height:0; transition:max-height .4s ease-in-out;
  background-color:rgba(255,255,255,.03);
}
.sidebar-nav .nav-group.is-active .nav-group-list{ max-height:200px; }
.sidebar-nav .nav-group-list li a{ padding-left:30px; }

.sidebar-nav .nav-link, .sidebar-nav .nav-group-title, .sidebar-footer .logout-btn{ gap:12px; }
.sidebar-nav svg, .sidebar-footer svg{ width:18px; height:18px; stroke-width:2; flex-shrink:0; }
/* Sidebar footer buttons (Settings + Logout)
   Requested: no gray background, icon + text only */
.logout-btn{
  width:100%;
  display:flex;
  align-items:center;
  /* ✅ Requested: keep them pinned at the bottom but CENTER the content
     horizontally inside the sidebar column (equal left/right space). */
  justify-content:center;
  gap:12px;
  background:transparent;
  border:none;
  box-shadow:none;
  padding:.75rem .75rem;
  border-radius:8px; /* keeps a nice focus outline shape */
  cursor:pointer;
  text-decoration:none;
  font-weight:600;
  color:#9CA3AF;
  -webkit-tap-highlight-color: transparent;
}
.logout-btn:hover{
  background:transparent;
  color:#FFFFFF;
}
.logout-btn:active{
  background:transparent;
}
.logout-btn:focus-visible{
  outline:2px solid rgba(255,255,255,0.22);
  outline-offset:2px;
}

.sidebar-toggle{
  background:#000000; color:#FFFFFF; border:1px solid #374151;
  width:32px; height:32px; border-radius:50%; display:flex; align-items:center; justify-content:center; margin-left:auto; padding:0; cursor:pointer;
  transition:background-color .2s ease, color .2s ease;
  display:none !important;
}
.sidebar-toggle:hover{ background:#374151; }
.sidebar-toggle svg{ width:20px; height:20px; transition:transform .3s ease; }
body.sidebar-collapsed .sidebar-toggle svg{ transform:rotate(180deg); }

@keyframes spin{ from{ transform:rotate(0deg);} to{ transform:rotate(360deg);} }
#orders-list p{ display:inline-flex; align-items:center; gap:8px; white-space:nowrap; color:var(--text-secondary); }
.loading-cell{ display:flex; justify-content:center; align-items:center; gap:8px; color:var(--text-secondary); padding:1rem; }
.loading-icon{ display:inline-block; animation:spin 1.5s linear infinite; vertical-align:middle; }

