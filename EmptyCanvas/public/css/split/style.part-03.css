/* ===== Stocktaking Cards Layout ===== */
.stock-group {
  margin-bottom: 2.5rem; /* Space between tag groups */
}

.stock-group:last-child {
  margin-bottom: 0;
}

.stock-group-title {
  background-color: #000000; /* Black background */
  color: #FFFFFF;             /* White text */
  padding: 0.5rem 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  font-size: 1rem;
  font-weight: 600;
  display: inline-block; /* So it doesn't take full width */
}

.stock-cards-grid {
  display: grid;
  /* Creates as many columns as fit, with a minimum width of 250px */
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1rem;
}

.stock-card {
  background-color: #FFFFFF;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stock-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.08);
}

.stock-card-name {
  font-weight: 600;
  color: var(--text-primary);
}

.stock-card-qty {
  font-weight: 700;
  font-size: 1.1rem;
  background-color: #F3F4F6;
  color: var(--text-primary);
  padding: 0.25rem 0.75rem;
  border-radius: 999px; /* Pill shape */
}

/* ===== Review Page Enhancements ===== */
.card--elevated {
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);
  background: var(--card-bg, #fff);
}

/* Summary (Reason + Total) */
.review-summary-card { padding: 1.25rem 1.25rem; margin-bottom: 1rem; }
.review-summary-card .section-title {
  margin: 0 0 .75rem 0;
  font-size: 1.25rem;
  color: var(--text-primary, #000000);
}
.summary-grid { display: grid; gap: .75rem; grid-template-columns: 1fr; }
@media (min-width: 768px) { .summary-grid { grid-template-columns: repeat(2, 1fr); } }
.summary-item {
  background: var(--surface, #fff);
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: .875rem 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.04);
}
.summary-label {
  font-size: .85rem;
  font-weight: 600;
  color: var(--text-muted, #6B7280);
}
.summary-value {
  display: block;
  margin-top: 4px;
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--text-primary, #000000);
  word-break: break-word;
}

/* Products Section */
.products-card { margin-top: 1rem; padding: 1.25rem 1.25rem; }
.products-card .products-list-title { margin: 0 0 .75rem 0; font-size: 1.1rem; }

.product-cards-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
@media (min-width: 768px) { .product-cards-grid { grid-template-columns: 1fr 1fr; } }

.product-card {
  background: var(--surface, #fff);
  border: 1px solid #E5E7EB;
  border-radius: 14px;
  padding: .9rem 1rem;
  box-shadow: 0 6px 16px rgba(0,0,0,0.06);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

/* Badges (labels) */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-weight: 700;
  font-size: .95rem;
  padding: .35rem .75rem;
  border-radius: 999px;
  border: 1px solid transparent;
  white-space: nowrap;
}
.badge--name {
  background: #EEF2FF;      /* indigo-50 */
  color: #3730A3;           /* indigo-800 */
  border-color: #C7D2FE;    /* indigo-200 */
}
.badge--qty {
  background: #ECFDF5;      /* emerald-50 */
  color: #065F46;           /* emerald-900 */
  border-color: #A7F3D0;    /* emerald-200 */
}

/* ===== Modern Toasts (Reusable) ===== */
:root {
  --toast-radius: 14px;
  --toast-shadow: 0 18px 40px rgba(0,0,0,.12), 0 2px 10px rgba(0,0,0,.06);
  --toast-bg: #fff;
  --toast-border: #E5E7EB;
  --toast-text: #000000;
  --toast-muted: #6B7280;

  --toast-success: #10B981;
  --toast-success-50: #ECFDF5;
  --toast-success-200: #A7F3D0;

  --toast-error: #EF4444;
  --toast-error-50: #FEF2F2;
  --toast-error-200: #FECACA;

  --toast-info: #3B82F6;
  --toast-info-50: #EFF6FF;
  --toast-info-200: #BFDBFE;
}

.toast-stack {
  position: fixed;
  top: 22px;
  right: 22px;
  width: min(420px, calc(100vw - 28px));
  display: flex;
  flex-direction: column;
  gap: 12px;
  z-index: 9999;
  pointer-events: none;
}
@media (max-width: 560px) {
  .toast-stack { right: 14px; left: 14px; width: auto; }
}

.toast {
  pointer-events: auto;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  background: var(--toast-bg);
  border: 1px solid var(--toast-border);
  border-radius: var(--toast-radius);
  box-shadow: var(--toast-shadow);
  color: var(--toast-text);
  opacity: 0;
  transform: translateY(-8px) scale(.98);
  transition: transform .22s ease, opacity .22s ease, box-shadow .2s ease;
}
.toast.is-in {
  opacity: 1;
  transform: translateY(0) scale(1);
}
.toast__icon {
  width: 28px; height: 28px;
  border-radius: 999px;
  display: grid; place-items: center;
  font-size: 0; /* hide text if any */
}
.toast__content { min-width: 0; }
.toast__title {
  font-weight: 700;
  font-size: .98rem;
  line-height: 1.2;
}
.toast__msg {
  margin-top: 2px;
  color: var(--toast-muted);
  font-size: .9rem;
  line-height: 1.3;
  overflow: hidden; text-overflow: ellipsis;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
}
.toast__close {
  border: 0; background: transparent; color: #6B7280;
  width: 28px; height: 28px; border-radius: 8px;
  display: grid; place-items: center; cursor: pointer;
}
.toast__close:hover { background: #F3F4F6; color: #000000; }

/* Variants */
.toast--success .toast__icon { background: var(--toast-success-50); color: var(--toast-success); border: 1px solid var(--toast-success-200); }
.toast--error   .toast__icon { background: var(--toast-error-50);   color: var(--toast-error);   border: 1px solid var(--toast-error-200); }
.toast--info    .toast__icon { background: var(--toast-info-50);    color: var(--toast-info);    border: 1px solid var(--toast-info-200); }

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  .toast { transition: none; }
  .toast.is-in { opacity: 1; transform: none; }
}
/* ===== Centered Toast (middle of the screen) ===== */
.toast-stack {
  top: 50% !important;
  left: 50% !important;
  right: auto !important;
  transform: translate(-50%, -50%) !important;
  width: min(500px, calc(100vw - 32px));
  z-index: 9999;
}

/* أنيميشن لطيف يناسب المركز بدل السقوط من فوق */
.toast {
  transform: scale(.96);
}
.toast.is-in {
  transform: scale(1);
}

/* موبايل */
@media (max-width: 560px) {
  .toast-stack {
    width: calc(100vw - 28px);
  }
}
/* ===== Stocktaking: Tag column ===== */
.stock-table .col-tag { width: 180px; }

.loading-cell,
.empty-cell {
  text-align: center;
  color: #6B7280;
  padding: 1rem;
}

/* Tag badge (Notion-like) */
.tag-pill {
  display: inline-flex;
  align-items: center;
  padding: .25rem .6rem;
  border-radius: 999px;
  font-size: .85rem;
  font-weight: 700;
  border: 1px solid transparent;
  box-shadow: 0 6px 16px rgba(0,0,0,0.06);
  white-space: nowrap;
}

/* Notion select colors */
.tag--default { background: #F3F4F6; color: #000000; border-color: #E5E7EB; }
.tag--gray    { background: #F3F4F6; color: #374151; border-color: #E5E7EB; }
.tag--brown   { background: #EFEBE9; color: #4E342E; border-color: #D7CCC8; }
.tag--orange  { background: #FFF7ED; color: #9A3412; border-color: #FED7AA; }
.tag--yellow  { background: #FEFCE8; color: #854D0E; border-color: #FDE68A; }
.tag--green   { background: #ECFDF5; color: #065F46; border-color: #A7F3D0; }
.tag--blue    { background: #EFF6FF; color: #1E40AF; border-color: #BFDBFE; }
.tag--purple  { background: #F5F3FF; color: #5B21B6; border-color: #DDD6FE; }
.tag--pink    { background: #FDF2F8; color: #9D174D; border-color: #FBCFE8; }
.tag--red     { background: #FEF2F2; color: #991B1B; border-color: #FECACA; }
/* ====== Grouped Stocktaking ====== */
.groups-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
}
.loading-block, .empty-block, .error-block {
  padding: 1rem;
  color: #6B7280;
}
.error-block { color: #B91C1C; background: #FEE2E2; border: 1px solid #FCA5A5; border-radius: 12px; }

/* ===== Modern loaders (used on data-loading screens) ===== */
.modern-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 22px 18px;
  border: 1px solid #E5E7EB;
  border-radius: 16px;
  background: rgba(255,255,255,0.82);
  box-shadow: 0 12px 30px rgba(0,0,0,0.06);
  color: #6B7280;
}

.modern-loading__spinner {
  width: 24px;
  height: 24px;
  border-radius: 999px;
  border: 3px solid rgba(234, 88, 12, 0.22);
  border-top-color: rgba(234, 88, 12, 0.95);
  animation: spin .9s linear infinite;
}

.modern-loading__text {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
}

.modern-loading__dots {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.modern-loading__dots span {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: rgba(107, 114, 128, 0.55);
  animation: dotPulse 1.2s infinite ease-in-out;
}
.modern-loading__dots span:nth-child(2) { animation-delay: .15s; }
.modern-loading__dots span:nth-child(3) { animation-delay: .3s; }

@keyframes dotPulse {
  0%, 80%, 100% { transform: scale(.65); opacity: .45; }
  40% { transform: scale(1); opacity: 1; }
}

.group-card {
  --group-accent-bg: #F9FAFB;
  --group-accent-text: #000000;
  --group-accent-border: #E5E7EB;

  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 16px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.06);
  background: #fff;
  overflow: hidden;
}

.group-card__head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .9rem 1rem;
  border-bottom: 1px solid var(--group-accent-border);
  background:
    linear-gradient(90deg, var(--group-accent-bg) 0%, rgba(255,255,255,0) 60%);
}
.group-title {
  font-size: .85rem;
  font-weight: 700;
  color: var(--text-muted, #6B7280);
  margin-right: .5rem;
}
.group-head-left { display: flex; align-items: center; gap: .5rem; }
.group-count {
  font-weight: 700;
  color: var(--text-primary, #000000);
  background: #F3F4F6;
  border: 1px solid #E5E7EB;
  padding: .25rem .6rem;
  border-radius: 999px;
  font-size: .85rem;
}

/* Table inside each group */
.group-table-wrap { width: 100%; overflow-x: auto; }
.group-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}
.group-table thead th {
  text-align: left;
  padding: .7rem .9rem;
  font-weight: 800;
  font-size: .9rem;
  color: var(--group-accent-text);
  background: var(--group-accent-bg);
  border-bottom: 1px solid var(--group-accent-border);
}
.group-table thead th:first-child { border-top-left-radius: 10px; }
.group-table thead th:last-child  { border-top-right-radius: 10px; }

.group-table tbody td {
  padding: .65rem .9rem;
  border-bottom: 1px solid #F3F4F6;
}
.group-table tbody tr:hover td {
  background: #FAFAFA;
}
.group-table .col-num { text-align: right; width: 120px; }
.group-table .col-inventory { width: 160px; }

/* Inventory input (Stocktaking) */
.inventory-input {
  width: 100%;
  max-width: 140px;
  background: transparent;
  border: none;
  border-bottom: 1px solid #E5E7EB;
  padding: .15rem 0;
  text-align: right;
  font-weight: 700;
  color: var(--text-primary, #000000);
  outline: none;
}
.inventory-input:focus {
  border-bottom-color: var(--group-accent-border);
}
/* Remove number input spinners (optional) */
.inventory-input::-webkit-outer-spin-button,
.inventory-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.inventory-input[type=number] {
  -moz-appearance: textfield;
}
.group-table .col-tag { width: 180px; }

/* Tag badge (reuse + shadow) */
.tag-pill {
  display: inline-flex;
  align-items: center;
  padding: .25rem .6rem;
  border-radius: 999px;
  font-size: .85rem;
  font-weight: 700;
  border: 1px solid transparent;
  box-shadow: 0 6px 16px rgba(0,0,0,0.06);
  white-space: nowrap;
}

/* Notion-like colors */
.tag--default { background: #F3F4F6; color: #000000; border-color: #E5E7EB; }
.tag--gray    { background: #F3F4F6; color: #374151; border-color: #E5E7EB; }
.tag--brown   { background: #EFEBE9; color: #4E342E; border-color: #D7CCC8; }
.tag--orange  { background: #FFF7ED; color: #9A3412; border-color: #FED7AA; }
.tag--yellow  { background: #FEFCE8; color: #854D0E; border-color: #FDE68A; }
.tag--green   { background: #ECFDF5; color: #065F46; border-color: #A7F3D0; }
.tag--blue    { background: #EFF6FF; color: #1E40AF; border-color: #BFDBFE; }
.tag--purple  { background: #F5F3FF; color: #5B21B6; border-color: #DDD6FE; }
.tag--pink    { background: #FDF2F8; color: #9D174D; border-color: #FBCFE8; }
.tag--red     { background: #FEF2F2; color: #991B1B; border-color: #FECACA; }
/* ===== Grouped Stocktaking (updates) ===== */
.group-table thead th {
  text-align: left;
  padding: .7rem .9rem;
  font-weight: 800;
  font-size: .9rem;
  color: var(--group-accent-text);
  background: var(--group-accent-bg);
  border-bottom: 1px solid var(--group-accent-border);
}
.group-table .col-num { text-align: right; width: 120px; }
.group-table .col-inventory { width: 160px; }

/* Inventory input (Stocktaking) */
.inventory-input {
  width: 100%;
  max-width: 140px;
  background: transparent;
  border: none;
  border-bottom: 1px solid #E5E7EB;
  padding: .15rem 0;
  text-align: right;
  font-weight: 700;
  color: var(--text-primary, #000000);
  outline: none;
}
.inventory-input:focus {
  border-bottom-color: var(--group-accent-border);
}
/* Remove number input spinners (optional) */
.inventory-input::-webkit-outer-spin-button,
.inventory-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.inventory-input[type=number] {
  -moz-appearance: textfield;
}
.group-table .col-kit { text-align: right; width: 180px; }

/* Badge for "One Kit Quantity" (ملون حسب لون الجروب) */
.qty-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 52px;
  padding: .28rem .6rem;
  border-radius: 999px;
  font-size: .85rem;
  font-weight: 800;
  color: var(--group-accent-text);
  background: var(--group-accent-bg);
  border: 1px solid var(--group-accent-border);
  box-shadow: 0 6px 16px rgba(0,0,0,0.06);
}

/* ===== Download PDF button ===== */
.card-toolbar {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  margin-bottom: .75rem;
}
.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: .55rem .9rem;
  border-radius: 10px;
  font-weight: 700;
  border: 1px solid #E5E7EB;
  background: #fff;
  color: #000000;
  box-shadow: 0 8px 20px rgba(0,0,0,.06);
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.btn:hover { transform: translateY(-1px); box-shadow: 0 12px 26px rgba(0,0,0,.08); }
.btn.is-busy,
.btn.is-auto-busy,
.ro-action-btn.is-busy,
.ro-action-btn.is-auto-busy,
button.is-busy,
button.is-auto-busy {
  opacity: .75;
  cursor: wait;
  pointer-events: none;
}

.btn.is-busy::after,
.btn.is-auto-busy::after,
.ro-action-btn.is-busy::after,
.ro-action-btn.is-auto-busy::after,
button.is-busy::after,
button.is-auto-busy::after {
  content: "";
  display: inline-block;
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid rgba(17, 24, 39, 0.25);
  border-top-color: rgba(17, 24, 39, 0.85);
  animation: spin .8s linear infinite;
  margin-left: 8px;
}
.btn.btn--light { background: #fff; }
.btn svg { width: 18px; height: 18px; }

/* ===== Orders Modal (polished + centered close icon) ===== */
#orderModal .modal-content {
  position: relative;
  width: min(680px, 94vw);
  border-radius: 16px;
  padding: 14px 14px 16px;
  background: #fff;
  box-shadow: 0 24px 48px rgba(0,0,0,.18), 0 4px 16px rgba(0,0,0,.08);
}

/* Header uses Flex so the close button is vertically centered */
.order-modal__head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .5rem;
  padding: .5rem .5rem;
  border-bottom: 1px solid #F3F4F6;
}
.order-modal__title {
  display: inline-flex; align-items: center; gap: .5rem;
  font-size: 1.05rem; font-weight: 800; color: #000000;
}
.order-modal__title svg { width: 18px; height: 18px; color: #6B7280; }

/* Default (fallback) absolute positioning if the close button is NOT in header */
#orderModal .close-btn {
  position: absolute;
  top: 10px; right: 12px;
  width: 32px; height: 32px;
  display: grid; place-items: center;
  border: 0; border-radius: 8px;
  background: #F3F4F6; color: #000000;
  cursor: pointer; line-height: 1;
  box-shadow: 0 4px 10px rgba(0,0,0,.06);
}
#orderModal .close-btn svg { width: 18px; height: 18px; }
#orderModal .close-btn:hover { background: #E5E7EB; }

/* When the close button is placed inside the header (via JS), center it with Flex */
#orderModal .order-modal__head .close-btn {
  position: static;
  transform: none;
  margin-left: auto;
}

/* List */
.order-modal__list { display: grid; gap: 10px; margin-top: .75rem; }

/* Order item card */
.order-item-card {
  display: flex; align-items: center; justify-content: space-between;
  gap: 10px;
  padding: .6rem .75rem;
  background: #fff;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0,0,0,.06);
}
.order-item__left { min-width: 0; }
.order-item__right { display: inline-flex; align-items: center; gap: 8px; flex-shrink: 0; }

/* Badges */
.badge {
  display: inline-flex; align-items: center; gap: 6px;
  font-weight: 700; font-size: .9rem;
  padding: .35rem .7rem; border-radius: 999px;
  border: 1px solid transparent; white-space: nowrap;
  box-shadow: 0 6px 16px rgba(0,0,0,.06);
}
.badge--name { background: #EEF2FF; color: #3730A3; border-color: #C7D2FE; }
.badge--qty  { background: #ECFDF5; color: #065F46; border-color: #A7F3D0; }

/* Receive button */
.receive-btn {
  border: 1px solid #E5E7EB; background: #fff; color: #000000;
  font-weight: 700; padding: .35rem .6rem; border-radius: 10px; cursor: pointer;
  box-shadow: 0 6px 16px rgba(0,0,0,.06);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.receive-btn:hover { transform: translateY(-1px); box-shadow: 0 10px 24px rgba(0,0,0,.08); }
.receive-btn.received, .receive-btn:disabled {
  background: #10B981; color: #fff; border-color: #0EA575;
  cursor: default; box-shadow: 0 6px 16px rgba(16,185,129,.25);
}
/* اختياري: لف لكل الروابط الطويلة */
.sidebar .nav-group-list .nav-link .nav-label { white-space: normal; line-height: 1.15; }
.sidebar .nav-group-list .nav-link { align-items: flex-start; }
/* Sidebar: flat links (no parent group) */
.sidebar-nav .nav-group { display: none !important; }

.sidebar-nav .nav-list {
  list-style: none;
  margin: 0;
  padding: 1rem;
  display: grid;
  gap: 6px;
}

.sidebar-nav .nav-list .nav-link {
  display: flex;
  align-items: flex-start; /* يسمح للنص يلف */
  gap: .75rem;
  padding: .65rem 1rem;
  border-radius: 6px;
  text-decoration: none;
  color: #9CA3AF;
  transition: background-color .2s, color .2s;
}

.sidebar-nav .nav-list .nav-link:hover {
  background: #000000;
  color: #fff;
}

.sidebar-nav .nav-list .nav-link.active {
  background: var(--primary-color);
  color: #fff;
  font-weight: 600;
  box-shadow: 0 8px 16px rgba(234, 88, 12, 0.25);
}

.sidebar-nav .nav-list .nav-link svg {
  width: 18px; height: 18px;
  stroke-width: 2;
  flex-shrink: 0;
  margin-top: 2px;
}

.sidebar-nav .nav-list .nav-link .nav-label {
  white-space: normal; /* لف الاسم الطويل */
  line-height: 1.15;
}

/* وضع mini على الديسكتوب */
@media (min-width: 769px) {
  body.sidebar-mini .sidebar { width: var(--aside-w-collapsed) !important; }
  body.sidebar-mini .main-content { padding-left: var(--aside-w-collapsed) !important; }

  body.sidebar-mini .sidebar-header h2 { display: none; }
  body.sidebar-mini .nav-label { display: none !important; }
  body.sidebar-mini .sidebar-nav .nav-link { justify-content: center; }
  body.sidebar-mini .sidebar-footer .logout-btn { justify-content: center; }
  body.sidebar-mini .sidebar-toggle svg { transform: rotate(180deg); }
}

/* وضع collapsed على الموبايل موجود بالفعل في ملفك */
/* Override: أظهر الـ nav-group لو كانت قاعدة سابقة مخبيّاه */
.sidebar-nav .nav-group { display: block !important; }

/* لفّ النص داخل عناصر مجموعة Orders لو الاسم طويل */
.sidebar .nav-group-list .nav-link .nav-label { white-space: normal; line-height: 1.15; }
/* Icons alignment */
.nav-icon, .title-icon {
  width: 18px; height: 18px; vertical-align: -2px; margin-right: 8px;
}

/* Actions bar and muted text */
.page-actions { display: flex; gap: 10px; align-items: center; margin: 12px 0 14px; }
.muted { color: #6B7280; }

/* Stats cards */
.stats { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 10px; margin-bottom: 12px; }
.stat { background:#fff; border:1px solid #E5E7EB; border-radius:10px; padding:10px 12px; }
.stat__label { font-size:12px; color:#6B7280; margin-bottom:4px; }
.stat__value { font-size:18px; font-weight:700; color:#000000; }
.stat__value--ok   { color:#047857; }
.stat__value--warn { color:#B45309; }

/* Pills */
.pill { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; line-height:18px; }
.pill--success { background:#ECFDF5; color:#065F46; border:1px solid #A7F3D0; }
.pill--danger  { background:#FEF2F2; color:#991B1B; border:1px solid #FECACA; }

/* Row done */
.table tr.row--done { opacity: 0.75; }
.table tr.row--done td { background-image: linear-gradient(to right, rgba(16,185,129,0.08), rgba(16,185,129,0)); }

/* Buttons */
.btn-icon i { margin-right: 6px; }
.btn-success { background:#16A34A; color:#fff; border:1px solid #16A34A; }
.btn-success:hover { background:#15803D; border-color:#15803D; }
.btn-warning { background:#F59E0B; color:#000000; border:1px solid #D97706; }
.btn-warning.btn-outline { background:transparent; color:#B45309; border:1px solid #F59E0B; }
.btn-primary { background:#2563EB; color:#fff; border:1px solid #2563EB; }
.btn-primary:hover { background:#1D4ED8; border-color:#1D4ED8; }
.btn.is-busy { opacity: 0.7; pointer-events:none; }

/* Button group */
.btn-group { display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }

/* Modal */
.modal.hidden { display:none; }
.modal { position:fixed; inset:0; z-index:1000; }
.modal__backdrop { position:absolute; inset:0; background:rgba(0,0,0,0.4); }
.modal__dialog { position:relative; margin: 7vh auto 0; max-width: 420px; background:#fff; border-radius:12px; border:1px solid #E5E7EB; box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
.modal__header { display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid #F3F4F6; }
.modal__body { padding:14px; }
.modal__footer { padding:12px 14px; display:flex; justify-content:flex-end; gap:8px; border-top:1px solid #F3F4F6; }
.modal__close { background:transparent; border:0; font-size:20px; line-height:1; cursor:pointer; }
.input { width:100%; padding:8px 10px; border:1px solid #E5E7EB; border-radius:8px; font-size:14px; }
.hint { color:#6B7280; }
/* Assigned cards grid */
.assigned-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
  gap: 12px;
}
@media (max-width: 480px) {
  .assigned-grid { grid-template-columns: 1fr; }
}

/* Order card */
.order-card {
  background: #fff;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0,0,0,.1), 0 1px 2px -1px rgba(0,0,0,.1);
  overflow: hidden;
}
.order-card__head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  border-bottom: 1px solid #F3F4F6;
  background: #FAFAFA;
}
.order-card__title { display: flex; align-items: center; gap: 10px; }
.order-card__title svg { width: 18px; height: 18px; }
.order-card__title-text { display: flex; flex-direction: column; }
.order-card__title-main { font-weight: 800; color: #000000; }
.order-card__subtitle { font-size: 12px; color: #6B7280; }
.order-card__right { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }

.badge { display:inline-flex; align-items:center; gap:6px; font-weight:700; font-size:.85rem; padding:.3rem .6rem; border-radius:999px; border:1px solid #E5E7EB; background:#fff; }
.badge--count   { background:#F3F4F6; color:#000000; }
.badge--missing { background:#FEF2F2; color:#991B1B; border-color:#FECACA; }

.order-card__items { display: grid; gap: 6px; padding: 10px 12px; }
.order-item {
  display: grid;
  grid-template-columns: 1fr auto auto; /* name | nums | actions */
  gap: 12px;
  align-items: center;
  background: #fff;
  border: 1px solid #F3F4F6;
  border-radius: 10px;
  padding: .6rem .75rem;
}
.item-left .item-name { font-weight: 700; color: #000000; overflow-wrap: anywhere; }
.item-mid { display: inline-flex; gap: 12px; align-items: center; color: #374151; }
.item-mid .num strong { font-weight: 800; }
.item-actions { display: inline-flex; gap: 8px; align-items: center; }

/* Small buttons variant (visual only) */
.btn-sm { padding: .4rem .6rem; border-radius: 8px; font-size: .85rem; }

/* Popover */
.popover.hidden { display: none; }
.popover {
  position: fixed;
  z-index: 1100;
  width: 260px;
  background: #fff;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  box-shadow: 0 12px 30px rgba(0,0,0,.12);
}
.popover__body { padding: 12px; }
.popover__title {
  display: inline-flex; align-items: center; gap: 6px;
  font-weight: 800; color: #000000; margin-bottom: 6px;
}
.popover__label { display:block; font-weight:600; font-size:.85rem; margin:6px 0 4px; color:#374151; }
.popover__actions { margin-top: 10px; display: flex; justify-content: flex-end; gap: 8px; }
/* Assigned: إجبار عرض الكروت عمود واحد */
.assigned-grid {
  display: grid;
  grid-template-columns: 1fr !important; /* عمود واحد على كل المقاسات */
  gap: 12px;
}

.assigned-grid .order-card {
  width: 100%;
}

